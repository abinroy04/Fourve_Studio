{% extends "esports/base_esports.html" %}

{% block title %}{{ game.Game }} - Fourve E-Sports{% endblock %}

{% block nav_extras %}
<div class="flex items-center mt-4 lg:mt-0">
    <a href="{{ url_for('e_sports') }}" class="px-3 py-2 text-gray-200 transition-colors duration-300 transform rounded-md hover:bg-gray-700">
        Back to Games
    </a>
</div>
{% endblock %}

{% block content %}
    
    <!-- Hero Section -->
    <div class="relative">
        <div class="w-full h-96 overflow-hidden">
            <img src="{{ game.Image }}" alt="{{ game.Game }}" class="w-full h-full object-cover opacity-60">
            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"></div>
        </div>
        <div class="absolute bottom-0 left-0 p-6 md:p-10 container mx-auto">
            <h1 class="text-4xl md:text-5xl font-bold text-purple-400">{{ game.Game }}</h1>
        </div>
    </div>
    
    <main class="container mx-auto px-4 py-12">
        <!-- Game Description -->
        <div class="bg-gray-800 rounded-lg shadow-lg p-6 mb-10">
            <h2 class="text-2xl font-semibold text-purple-400 mb-4">About the Game</h2>
            <p class="text-gray-300">{{ game.Description }}</p>
        </div>
        
        <!-- Tournaments Section -->
        <div class="section-title mt-12">
            <h2>Upcoming Tournaments</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            {% if tournaments %}
                {% for tournament in tournaments %}
                    <div class="bg-gray-800 rounded-lg overflow-hidden shadow-lg">
                        <div class="p-6">                            <h3 class="text-xl font-bold text-purple-400">{{ tournament.get('name', 'Tournament') }}</h3>
                            <p class="text-gray-400 mb-2">{{ tournament.get('date', 'TBD') }}</p>
                            <p class="text-gray-300 mb-4">{{ tournament.get('description', 'No description available') }}</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-purple-900/50 text-purple-300 text-xs px-3 py-1 rounded-full">Prize: {{ tournament.get('prize', 'TBD') }}</span>
                                <span class="bg-purple-900/50 text-purple-300 text-xs px-3 py-1 rounded-full">Teams: {{ tournament.get('teams', 'TBD') }}</span>
                            </div><a href="{{ url_for('register', registration_type='tournament', id=tournament.get('Tournament-id', 1)) }}" class="bg-purple-600 rounded-tl-full rounded-br-full text-white font-medium px-6 py-2 hover:bg-purple-700 btn-glow inline-block">
                                Register
                            </a>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="col-span-2 bg-gray-800 rounded-lg p-6 text-center">
                    <p>No tournaments scheduled at the moment. Check back soon!</p>
                </div>
            {% endif %}
        </div>
        
        <!-- Scrims Section -->
        <div class="section-title mt-12">
            <h2>Scrims</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            {% if scrims %}
                {% for scrim in scrims %}
                    <div class="bg-gray-800 rounded-lg overflow-hidden shadow-lg">
                        <div class="p-6">                            <h3 class="text-xl font-bold text-purple-400">{{ scrim.get('title', 'Practice Session') }}</h3>
                            <p class="text-gray-400 mb-2">{{ scrim.get('schedule', 'TBD') }}</p>
                            <p class="text-gray-300 mb-4">{{ scrim.get('description', 'No description available') }}</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-purple-900/50 text-purple-300 text-xs px-3 py-1 rounded-full">Level: {{ scrim.get('skill_level', 'All Levels') }}</span>
                            </div><a href="{{ url_for('register', registration_type='scrim', id=scrim.get('Scrims-id', 1)) }}" class="bg-purple-600 rounded-tl-full rounded-br-full text-white font-medium px-6 py-2 hover:bg-purple-700 btn-glow inline-block">
                                Join Scrim
                            </a>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="col-span-2 bg-gray-800 rounded-lg p-6 text-center">
                    <p>No practice scrims available right now. Check back soon!</p>
                </div>
            {% endif %}
        </div>
    </main>
{% endblock %}

{% block scripts %}
<!-- Additional page-specific scripts can be added here -->
{% endblock %}